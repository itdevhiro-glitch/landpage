<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Petty Cash - Zeppelin Finance</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        :root {
            --primary: #D9232D;
            --primary-dark: #b91c1c;
            --accent: #F37321;
            --bg-body: #f8fafc;
            --bg-card: #ffffff;
            --text-main: #0f172a;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --radius: 10px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg-body); color: var(--text-main); line-height: 1.5; padding-bottom: 40px; }
        
        .container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }
        .hidden { display: none !important; }
        
        .navbar { background: var(--bg-card); border-bottom: 1px solid var(--border); padding: 14px 0; position: sticky; top: 0; z-index: 50; }
        .nav-inner { display: flex; align-items: center; justify-content: space-between; }
        .brand { display: flex; align-items: center; gap: 10px; text-decoration: none; font-weight: 700; font-size: 1.1rem; color: var(--text-main); letter-spacing: -0.5px; }
        .brand i { color: var(--primary); font-size: 1.25rem; }
        .nav-back { color: var(--text-muted); text-decoration: none; font-size: 0.875rem; font-weight: 500; display: flex; align-items: center; gap: 6px; transition: 0.2s; padding: 8px 12px; border-radius: 6px; }
        .nav-back:hover { background: #f1f5f9; color: var(--primary); }

        .page-header { margin: 32px 0 24px; }
        .page-title { font-size: 1.5rem; font-weight: 700; color: var(--text-main); letter-spacing: -0.025em; margin-bottom: 4px; }
        .page-subtitle { color: var(--text-muted); font-size: 0.925rem; }

        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-card { background: var(--bg-card); padding: 24px; border-radius: 12px; border: 1px solid var(--border); box-shadow: var(--shadow-sm); display: flex; flex-direction: column; justify-content: space-between; position: relative; overflow: hidden; }
        .stat-label { font-size: 0.85rem; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px; }
        .stat-value { font-size: 1.75rem; font-weight: 700; color: var(--text-main); margin-top: 8px; font-family: 'JetBrains Mono', monospace; letter-spacing: -1px; }
        .stat-icon-bg { position: absolute; bottom: -10px; right: -10px; font-size: 5rem; opacity: 0.05; color: var(--text-main); transform: rotate(-15deg); }
        
        .border-balance { border-top: 4px solid var(--accent); }
        .border-income { border-top: 4px solid #10b981; }
        .border-expense { border-top: 4px solid var(--primary); }

        .action-toolbar { background: var(--bg-card); padding: 16px; border-radius: 12px; border: 1px solid var(--border); margin-bottom: 24px; box-shadow: var(--shadow-sm); display: flex; gap: 16px; flex-wrap: wrap; align-items: center; justify-content: space-between; }
        
        .tab-filters { display: flex; background: #f1f5f9; padding: 4px; border-radius: 8px; gap: 4px; }
        .filter-btn { border: none; background: transparent; padding: 8px 16px; font-size: 0.85rem; font-weight: 600; color: #64748b; cursor: pointer; border-radius: 6px; transition: 0.2s; }
        .filter-btn.active { background: white; color: var(--primary); box-shadow: 0 1px 2px rgba(0,0,0,0.1); }

        .search-wrapper { position: relative; width: 250px; }
        .search-wrapper i { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); color: #94a3b8; font-size: 0.9rem; }
        .search-input { width: 100%; padding: 10px 16px 10px 40px; border: 1px solid var(--border); border-radius: 8px; font-family: inherit; font-size: 0.925rem; outline: none; transition: 0.2s; }
        .search-input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(217, 35, 45, 0.1); }

        .btn { border: none; padding: 10px 20px; border-radius: 8px; font-weight: 600; font-size: 0.925rem; cursor: pointer; display: inline-flex; align-items: center; gap: 8px; transition: all 0.2s; font-family: 'Inter', sans-serif; }
        .btn-primary { background: var(--primary); color: white; box-shadow: 0 4px 6px -2px rgba(217, 35, 45, 0.3); }
        .btn-primary:hover { background: var(--primary-dark); transform: translateY(-1px); }

        .table-container { background: var(--bg-card); border-radius: 12px; border: 1px solid var(--border); overflow: hidden; box-shadow: var(--shadow-sm); }
        .table-responsive { overflow-x: auto; }
        table { width: 100%; border-collapse: collapse; min-width: 800px; }
        th { background: #f8fafc; text-align: left; padding: 14px 20px; font-size: 0.75rem; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 1px solid var(--border); }
        td { padding: 16px 20px; border-bottom: 1px solid #f1f5f9; font-size: 0.9rem; color: #334155; vertical-align: middle; }
        tr:hover td { background-color: #fcfcfc; }

        .type-badge { display: inline-flex; width: 28px; height: 28px; align-items: center; justify-content: center; border-radius: 50%; font-size: 0.8rem; }
        .type-inc { background: #dcfce7; color: #166534; }
        .type-exp { background: #fee2e2; color: var(--primary); }

        .col-money { font-family: 'JetBrains Mono', monospace; font-weight: 600; }
        .text-inc { color: #10b981; }
        .text-exp { color: var(--primary); }

        .category-badge { display: inline-block; padding: 4px 10px; border-radius: 20px; font-size: 0.75rem; font-weight: 600; background: #f1f5f9; color: #475569; border: 1px solid #e2e8f0; }

        .action-btn { background: none; border: none; width: 32px; height: 32px; border-radius: 6px; color: #94a3b8; cursor: pointer; transition: 0.2s; display: inline-flex; align-items: center; justify-content: center; font-size: 0.9rem; }
        .action-btn:hover { background: #f1f5f9; color: var(--text-main); }
        .action-btn.delete:hover { background: #fef2f2; color: var(--primary); }

        .modal-backdrop { position: fixed; inset: 0; background: rgba(15, 23, 42, 0.4); backdrop-filter: blur(4px); z-index: 200; display: none; opacity: 0; transition: opacity 0.3s; }
        .modal-card { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -48%) scale(0.96); width: 90%; max-width: 480px; background: white; border-radius: 16px; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); z-index: 201; display: none; opacity: 0; transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1); border: 1px solid rgba(255,255,255,0.1); }
        .modal-backdrop.active, .modal-card.active { display: block; opacity: 1; }
        .modal-card.active { transform: translate(-50%, -50%) scale(1); }

        .modal-header { padding: 20px 24px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; background: #f8fafc; border-radius: 16px 16px 0 0; }
        .close-modal { background: none; border: none; color: #94a3b8; cursor: pointer; font-size: 1.25rem; transition: 0.2s; }
        .close-modal:hover { color: var(--primary); }
        .modal-body { padding: 24px; }
        
        .type-selector { display: flex; gap: 10px; margin-bottom: 20px; background: #f1f5f9; padding: 4px; border-radius: 8px; }
        .type-option { flex: 1; padding: 10px; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; color: #64748b; background: transparent; transition: 0.2s; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .type-option.selected-exp { background: white; color: var(--primary); box-shadow: 0 1px 2px rgba(0,0,0,0.1); }
        .type-option.selected-inc { background: white; color: #10b981; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }

        .form-group { margin-bottom: 18px; }
        .form-label { display: block; font-size: 0.85rem; font-weight: 600; color: var(--text-main); margin-bottom: 6px; }
        .form-input { width: 100%; padding: 11px; border: 1px solid #cbd5e1; border-radius: 8px; font-size: 0.95rem; outline: none; transition: 0.2s; background: #fff; }
        .form-input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(217, 35, 45, 0.1); }
        .btn-full { width: 100%; justify-content: center; padding: 12px; margin-top: 10px; }

        .toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(20px); background: #1e293b; color: white; padding: 12px 24px; border-radius: 50px; font-size: 0.9rem; font-weight: 500; display: flex; align-items: center; gap: 10px; opacity: 0; visibility: hidden; transition: all 0.3s; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); z-index: 3000; }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; visibility: visible; }
        .toast i { color: #4ade80; }

        .empty-state { padding: 60px 20px; text-align: center; color: var(--text-muted); }
        .empty-icon { font-size: 3rem; color: #e2e8f0; margin-bottom: 15px; }

        @media (max-width: 640px) {
            .navbar { padding: 12px 0; }
            .action-toolbar { flex-direction: column-reverse; gap: 12px; align-items: stretch; }
            .search-wrapper { width: 100%; }
            .tab-filters { width: 100%; }
            .filter-btn { flex: 1; text-align: center; }
            .btn { width: 100%; justify-content: center; }
            .stat-value { font-size: 1.5rem; }
        }
    </style>
</head>
<body>

    <div id="loading-screen" style="position: fixed; inset: 0; background: white; z-index: 1000; display: flex; flex-direction: column; align-items: center; justify-content: center;">
        <div style="width: 40px; height: 40px; border: 3px solid #e2e8f0; border-top-color: var(--primary); border-radius: 50%; animation: spin 0.8s linear infinite;"></div>
        <p style="margin-top: 16px; font-weight: 500; color: #64748b; font-size: 0.9rem;">Memuat Data...</p>
        <style>@keyframes spin { to { transform: rotate(360deg); } }</style>
    </div>

    <nav class="navbar">
        <div class="container nav-inner">
            <div style="display: flex; align-items: center; gap: 12px;">
                <a href="finance.html" class="nav-back">
                    <i class="fa-solid fa-chevron-left"></i> Dashboard
                </a>
                <span style="color: #cbd5e1;">|</span>
                <a href="#" class="brand">
                    <i class="fa-solid fa-wallet"></i> Petty Cash
                </a>
            </div>
            <div style="font-size: 0.85rem; font-weight: 600; color: var(--text-main); display: flex; align-items: center; gap: 8px;">
                <div style="width: 28px; height: 28px; background: #fee2e2; color: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem;">
                    <i class="fa-solid fa-user"></i>
                </div>
                <span id="user-display" class="hidden-mobile">Finance Team</span>
            </div>
        </div>
    </nav>

    <div class="container">
        
        <header class="page-header">
            <h1 class="page-title">Buku Kas & Operasional</h1>
            <p class="page-subtitle">Kelola pemasukan dan pengeluaran harian perusahaan.</p>
        </header>

        <div class="stats-grid">
            <div class="stat-card border-balance">
                <div class="stat-label">Sisa Saldo (Balance)</div>
                <div class="stat-value" id="stat-balance" style="color: var(--accent);">Rp 0</div>
                <i class="fa-solid fa-vault stat-icon-bg"></i>
            </div>
            <div class="stat-card border-income">
                <div class="stat-label">Total Pemasukan</div>
                <div class="stat-value" id="stat-income">Rp 0</div>
                <i class="fa-solid fa-arrow-trend-up stat-icon-bg"></i>
            </div>
            <div class="stat-card border-expense">
                <div class="stat-label">Total Pengeluaran</div>
                <div class="stat-value" id="stat-expense">Rp 0</div>
                <i class="fa-solid fa-receipt stat-icon-bg"></i>
            </div>
        </div>

        <div class="action-toolbar">
            <div class="tab-filters">
                <button class="filter-btn active" onclick="setFilter('all')">Semua</button>
                <button class="filter-btn" onclick="setFilter('income')">Pemasukan</button>
                <button class="filter-btn" onclick="setFilter('expense')">Pengeluaran</button>
            </div>

            <div style="display: flex; gap: 12px; flex: 1; justify-content: flex-end;">
                <div class="search-wrapper">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="text" id="search-input" class="search-input" placeholder="Cari transaksi...">
                </div>
                <button class="btn btn-primary" onclick="openModal()">
                    <i class="fa-solid fa-plus"></i> Transaksi
                </button>
            </div>
        </div>

        <div class="table-container">
            <div class="table-responsive">
                <table>
                    <thead>
                        <tr>
                            <th style="width: 50px;"></th>
                            <th>Tanggal</th>
                            <th>Keterangan</th>
                            <th>Kategori</th>
                            <th>Nominal</th>
                            <th style="text-align: right;">Aksi</th>
                        </tr>
                    </thead>
                    <tbody id="pc-table-body"></tbody>
                </table>
            </div>
            <div id="empty-state" class="empty-state hidden">
                <i class="fa-solid fa-clipboard-list empty-icon"></i>
                <p>Belum ada data transaksi yang ditemukan.</p>
            </div>
        </div>

        <div style="margin-top: 40px; text-align: center; color: #94a3b8; font-size: 0.8rem;">
            &copy; 2025 Zeppelin Finance System. Secure Data.
        </div>
    </div>

    <div id="modal-backdrop" class="modal-backdrop"></div>
    <div id="modal-content" class="modal-card">
        <div class="modal-header">
            <h3 id="modal-title" style="font-weight: 700; color: var(--text-main);">Transaksi Baru</h3>
            <button class="close-modal" onclick="closeModal()"><i class="fa-solid fa-xmark"></i></button>
        </div>
        <div class="modal-body">
            <input type="hidden" id="trx-id">
            <input type="hidden" id="trx-type" value="expense">
            
            <div class="type-selector">
                <button id="btn-type-exp" class="type-option selected-exp" onclick="setFormType('expense')">
                    <i class="fa-solid fa-arrow-down"></i> Pengeluaran
                </button>
                <button id="btn-type-inc" class="type-option" onclick="setFormType('income')">
                    <i class="fa-solid fa-arrow-up"></i> Pemasukan
                </button>
            </div>

            <div class="form-group">
                <label class="form-label">Tanggal</label>
                <input type="date" id="trx-date" class="form-input">
            </div>

            <div class="form-group">
                <label class="form-label">Keterangan</label>
                <input type="text" id="trx-desc" class="form-input" placeholder="Contoh: Beli Kertas / Top Up Kas">
            </div>

            <div class="form-group">
                <label class="form-label">Kategori</label>
                <select id="trx-cat" class="form-input"></select>
            </div>
            
            <div class="form-group">
                <label class="form-label">Nominal (Rp)</label>
                <input type="number" id="trx-amount" class="form-input" placeholder="0">
            </div>

            <button class="btn btn-primary btn-full" onclick="saveTransaction()">
                Simpan Transaksi
            </button>
        </div>
    </div>

    <div id="toast" class="toast">
        <i class="fa-solid fa-circle-check"></i>
        <span id="toast-msg">Data berhasil disimpan</span>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
        import { getDatabase, ref, onValue, push, set, remove, get } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyA9wgSalrlTcveIZi2i-WND86z1i9JYHKw",
            authDomain: "it-support-53eeb.firebaseapp.com",
            databaseURL: "https://it-support-53eeb-default-rtdb.firebaseio.com",
            projectId: "it-support-53eeb",
            storageBucket: "it-support-53eeb.firebasestorage.app",
            messagingSenderId: "573924501146",
            appId: "1:573924501146:web:12f34306ed675472322123",
            measurementId: "G-33K6DDE1VR"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getDatabase(app);

        let allData = [];
        let currentFilter = 'all';

        const CAT_EXPENSE = ["Operasional", "Konsumsi", "ATK", "Transport", "Maintenance", "Lainnya"];
        const CAT_INCOME = ["Top Up Kas", "Reimbursement", "Refund", "Sisa Project", "Lainnya"];

        onAuthStateChanged(auth, (user) => {
            if (user) {
                const userRef = ref(db, 'users/' + user.uid);
                get(userRef).then((snapshot) => {
                    const data = snapshot.val();
                    const isFinance = (data.departemen && (data.departemen.includes('Finance') || data.departemen.includes('Accounting') || user.email === 'root@zeppelin.center'));
                    
                    if (isFinance) {
                        document.getElementById('user-display').textContent = data.nama || "Finance Team";
                        document.getElementById('loading-screen').style.opacity = '0';
                        setTimeout(() => document.getElementById('loading-screen').style.display = 'none', 400);
                        initListener();
                    } else {
                        alert("Akses Ditolak. Khusus Finance.");
                        window.location.href = 'dashboard.html';
                    }
                });
            } else {
                window.location.href = 'index.html';
            }
        });

        function initListener() {
            const pcRef = ref(db, 'finance_pettycash');
            onValue(pcRef, (snapshot) => {
                allData = [];
                const data = snapshot.val();
                if (data) {
                    Object.keys(data).forEach(key => {
                        const item = data[key];
                        if(!item.type) item.type = 'expense';
                        allData.push({ id: key, ...item });
                    });
                }
                allData.sort((a, b) => new Date(b.date) - new Date(a.date));
                calculateStats();
                renderTable();
            });
        }

        function calculateStats() {
            let totalInc = 0;
            let totalExp = 0;

            allData.forEach(item => {
                const amt = parseInt(item.amount) || 0;
                if(item.type === 'income') totalInc += amt;
                else totalExp += amt;
            });

            const balance = totalInc - totalExp;
            document.getElementById('stat-balance').textContent = "Rp " + balance.toLocaleString('id-ID');
            document.getElementById('stat-income').textContent = "Rp " + totalInc.toLocaleString('id-ID');
            document.getElementById('stat-expense').textContent = "Rp " + totalExp.toLocaleString('id-ID');
        }

        window.setFilter = (filterType) => {
            currentFilter = filterType;
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            renderTable();
        };

        function renderTable() {
            const tbody = document.getElementById('pc-table-body');
            const emptyState = document.getElementById('empty-state');
            const term = document.getElementById('search-input').value.toLowerCase();
            tbody.innerHTML = '';

            const filtered = allData.filter(item => {
                if(currentFilter !== 'all' && item.type !== currentFilter) return false;
                const match = item.desc.toLowerCase().includes(term) || 
                              item.category.toLowerCase().includes(term) ||
                              item.amount.toString().includes(term);
                return match;
            });

            if (filtered.length === 0) {
                emptyState.classList.remove('hidden');
                return;
            } else {
                emptyState.classList.add('hidden');
            }

            filtered.forEach(item => {
                const tr = document.createElement('tr');
                const isInc = item.type === 'income';
                
                const dateStr = new Date(item.date).toLocaleDateString('id-ID', { day: '2-digit', month: 'short', year: 'numeric' });
                const moneyStr = parseInt(item.amount).toLocaleString('id-ID');
                
                const sign = isInc ? "+" : "-";
                const moneyClass = isInc ? "text-inc" : "text-exp";
                const iconClass = isInc ? "type-inc" : "type-exp";
                const icon = isInc ? "fa-arrow-up" : "fa-arrow-down";

                tr.innerHTML = `
                    <td>
                        <div class="type-badge ${iconClass}">
                            <i class="fa-solid ${icon}"></i>
                        </div>
                    </td>
                    <td style="color: #64748b; font-size: 0.85rem;">${dateStr}</td>
                    <td style="font-weight: 500;">${item.desc}</td>
                    <td><span class="category-badge">${item.category}</span></td>
                    <td class="col-money ${moneyClass}">${sign} Rp ${moneyStr}</td>
                    <td style="text-align: right;">
                        <button onclick="window.editTrx('${item.id}')" class="action-btn edit"><i class="fa-solid fa-pen"></i></button>
                        <button onclick="window.deleteTrx('${item.id}')" class="action-btn delete"><i class="fa-solid fa-trash"></i></button>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        document.getElementById('search-input').addEventListener('input', renderTable);

        window.openModal = () => {
            document.getElementById('trx-id').value = '';
            document.getElementById('trx-date').value = new Date().toISOString().split('T')[0];
            document.getElementById('trx-desc').value = '';
            document.getElementById('trx-amount').value = '';
            
            window.setFormType('expense');
            
            document.getElementById('modal-backdrop').classList.add('active');
            document.getElementById('modal-content').classList.add('active');
        };

        window.closeModal = () => {
            document.getElementById('modal-backdrop').classList.remove('active');
            document.getElementById('modal-content').classList.remove('active');
        };

        window.setFormType = (type) => {
            const btnExp = document.getElementById('btn-type-exp');
            const btnInc = document.getElementById('btn-type-inc');
            const inpType = document.getElementById('trx-type');
            
            inpType.value = type;

            if(type === 'expense') {
                btnExp.className = "type-option selected-exp";
                btnInc.className = "type-option";
                populateCats(CAT_EXPENSE);
            } else {
                btnExp.className = "type-option";
                btnInc.className = "type-option selected-inc";
                populateCats(CAT_INCOME);
            }
        };

        function populateCats(cats) {
            const select = document.getElementById('trx-cat');
            select.innerHTML = '';
            cats.forEach(c => {
                const opt = document.createElement('option');
                opt.value = c;
                opt.textContent = c;
                select.appendChild(opt);
            });
        }

        window.saveTransaction = () => {
            const id = document.getElementById('trx-id').value;
            const type = document.getElementById('trx-type').value;
            const date = document.getElementById('trx-date').value;
            const desc = document.getElementById('trx-desc').value;
            const cat = document.getElementById('trx-cat').value;
            const amount = document.getElementById('trx-amount').value;

            if(!date || !desc || !amount) return alert("Mohon lengkapi data.");

            const dataObj = { type, date, desc, category: cat, amount: parseInt(amount) };

            if(id) {
                set(ref(db, 'finance_pettycash/' + id), dataObj).then(() => {
                    window.closeModal();
                    showToast("Data diperbarui!");
                });
            } else {
                push(ref(db, 'finance_pettycash'), dataObj).then(() => {
                    window.closeModal();
                    showToast("Transaksi disimpan!");
                });
            }
        };

        window.editTrx = (id) => {
            const item = allData.find(i => i.id === id);
            if(item) {
                document.getElementById('trx-id').value = id;
                document.getElementById('trx-date').value = item.date;
                document.getElementById('trx-desc').value = item.desc;
                document.getElementById('trx-amount').value = item.amount;
                
                window.setFormType(item.type);
                document.getElementById('trx-cat').value = item.category;
                
                document.getElementById('modal-backdrop').classList.add('active');
                document.getElementById('modal-content').classList.add('active');
            }
        };

        window.deleteTrx = (id) => {
            if(confirm("Hapus data ini permanen?")) {
                remove(ref(db, 'finance_pettycash/' + id));
            }
        };

        function showToast(message) {
            const t = document.getElementById('toast');
            document.getElementById('toast-msg').textContent = message;
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 3000);
        }

        document.getElementById('modal-backdrop').addEventListener('click', window.closeModal);
    </script>
</body>
</html>
